{"ast":null,"code":"var _jsxFileName = \"/Users/aabdelaziz/Desktop/React/lab8/src/components/PostDetails/PostDetails.js\",\n  _s = $RefreshSig$();\nimport './PostDetails.css';\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Comment from \"../Comment/Comment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PostDetails = props => {\n  _s();\n  const [selectedPost, setSelectedPost] = useState(null);\n  const [postComments, setPostComments] = useState([]);\n  useEffect(() => {\n    if (props.selectedId) {\n      axios.get(\"http://localhost:8080/posts/prop\" + props.selectedId).then(response => {\n        setSelectedPost(response.data);\n        axios.get(\"http://localhost:8080/posts/\" + props.selectedId + \"/comments\").then(rs => {\n          setPostComments(rs.data);\n        }).catch(error => {\n          console.log(error.message);\n        });\n      }).catch(error => {\n        console.log(error.message);\n      });\n    }\n  }, [props.selectedId]);\n  const deleteHandler = () => {\n    if (props.selectedId) {\n      axios.delete(\"http://localhost:8080/api/v1/posts/\" + props.selectedId).then(response => {\n        props.setFlagState(props.flag + 1);\n      }).catch(error => {\n        console.log(error.message);\n      });\n    }\n  };\n  if (props.selectedId && selectedPost) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"PostDetail\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: /*#__PURE__*/_jsxDEV(\"u\", {\n          children: selectedPost.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [selectedPost.author, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"left\",\n            paddingLeft: '10px'\n          },\n          children: selectedPost.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: \"10px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"link-button\",\n            children: \"edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this), \"\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"link-button\",\n            onClick: deleteHandler,\n            children: \"delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: \"left\",\n              marginLeft: '10px',\n              marginTop: '20px'\n            },\n            children: [\"Comments \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 38\n            }, this), postComments.map(c => {\n              return /*#__PURE__*/_jsxDEV(Comment, {\n                name: c.name\n              }, c.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 40\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this);\n  } else return \"\";\n};\n_s(PostDetails, \"0X8gl+5fdApC8wzUNX6Uj5H/+dM=\");\n_c = PostDetails;\nexport default PostDetails;\nvar _c;\n$RefreshReg$(_c, \"PostDetails\");","map":{"version":3,"names":["useEffect","useState","axios","Comment","PostDetails","props","selectedPost","setSelectedPost","postComments","setPostComments","selectedId","get","then","response","data","rs","catch","error","console","log","message","deleteHandler","delete","setFlagState","flag","title","author","textAlign","paddingLeft","content","marginBottom","marginLeft","marginTop","map","c","name","id"],"sources":["/Users/aabdelaziz/Desktop/React/lab8/src/components/PostDetails/PostDetails.js"],"sourcesContent":["import './PostDetails.css';\nimport {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport Comment from \"../Comment/Comment\";\n\n\nconst PostDetails = (props) => {\n\n    const [selectedPost, setSelectedPost] = useState(null);\n     const [postComments, setPostComments] = useState([]);\n    useEffect(\n        () => {\n            if (props.selectedId) {\n                axios.get(\"http://localhost:8080/posts/prop\" + props.selectedId)\n                    .then((response) => {\n                        setSelectedPost(response.data);\n                        axios.get(\"http://localhost:8080/posts/\" + props.selectedId +\"/comments\").then(rs => {\n                            setPostComments(rs.data);\n                        }).catch(error => {\n                            console.log(error.message);\n                        })\n\n\n                    }).catch(error => {\n                    console.log(error.message);\n                })\n            }\n        }, [props.selectedId]\n    )\n\n    const deleteHandler = () => {\n        if (props.selectedId) {\n            axios.delete(\"http://localhost:8080/api/v1/posts/\" + props.selectedId).then(response => {\n                props.setFlagState(props.flag + 1);\n            }).catch(error => {\n                console.log(error.message);\n            })\n        }\n    }\n\n    if (props.selectedId && selectedPost) {\n        return (\n            <div className=\"PostDetail\">\n\n                <h3><u>{selectedPost.title}</u></h3>\n                <div>\n                    {selectedPost.author}\n                    <br/>\n                    <br/>\n                    <div style={{textAlign: \"left\", paddingLeft: '10px'}}>\n                        {selectedPost.content}\n                    </div>\n                    <br/>\n                    <div style={{marginBottom: \"10px\"}}>\n                        <button\n                            type=\"button\"\n                            className=\"link-button\"\n\n                        >\n                            edit\n                        </button>\n                        &nbsp;&nbsp;&nbsp;\n                        <button\n                            type=\"button\"\n                            className=\"link-button\"\n                            onClick={deleteHandler}\n\n                        >\n                            delete\n                        </button>\n                        <div style={{ textAlign: \"left\", marginLeft: '10px', marginTop: '20px'}}>\n                            Comments <br />\n                            {postComments.map(c => {\n                                return <Comment name={c.name} key={c.id} />\n                            })}\n                        </div>\n                    </div>\n                </div>\n            </div>);\n\n    } else\n        return \"\";\n\n}\nexport default PostDetails;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}